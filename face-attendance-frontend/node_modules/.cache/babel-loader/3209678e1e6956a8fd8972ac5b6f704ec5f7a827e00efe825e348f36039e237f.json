{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sushm\\\\face_attendance_django\\\\face-attendance-frontend\\\\src\\\\components\\\\RegisterUser.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegisterUser() {\n  _s();\n  const [departments, setDepartments] = useState([]);\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    department: \"\",\n    photo: null\n  });\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    axios.get(\"http://127.0.0.1:8000/departments/\").then(res => setDepartments(res.data)).catch(err => console.error(err));\n  }, []);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!form.name || !form.email || !form.department || !form.photo) {\n      setMessage(\"Please fill all required fields and select a photo.\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"name\", form.name);\n    formData.append(\"email\", form.email);\n    formData.append(\"department\", form.department);\n    formData.append(\"photo\", form.photo);\n    try {\n      const res = await axios.post(\"http://127.0.0.1:8000/api/register/\", formData);\n      setMessage(res.data.message);\n      setForm({\n        name: \"\",\n        email: \"\",\n        department: \"\",\n        photo: null\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Registration failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto bg-white p-6 rounded shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Register User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-4 text-blue-600\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          value: form.name,\n          onChange: handleChange,\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          value: form.email,\n          onChange: handleChange,\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: \"Department:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"department\",\n          value: form.department,\n          onChange: handleChange,\n          className: \"w-full border p-2 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Department\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), departments.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: d.department_id,\n            children: d.department_name\n          }, d.department_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: \"Photo (PNG/JPG):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"photo\",\n          accept: \"image/png, image/jpeg\",\n          onChange: handleChange,\n          className: \"w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(RegisterUser, \"VSuvNitxEC5aYFTLvNHj4KffSXE=\");\n_c = RegisterUser;\nvar _c;\n$RefreshReg$(_c, \"RegisterUser\");","map":{"version":3,"names":["useState","useEffect","axios","jsxDEV","_jsxDEV","RegisterUser","_s","departments","setDepartments","form","setForm","name","email","department","photo","message","setMessage","get","then","res","data","catch","err","console","error","handleChange","e","value","files","target","prev","handleSubmit","preventDefault","formData","FormData","append","post","_err$response","_err$response$data","response","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","map","d","department_id","department_name","type","accept","_c","$RefreshReg$"],"sources":["C:/Users/sushm/face_attendance_django/face-attendance-frontend/src/components/RegisterUser.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function RegisterUser() {\r\n  const [departments, setDepartments] = useState([]);\r\n  const [form, setForm] = useState({\r\n    name: \"\", email: \"\", department: \"\", photo: null\r\n  });\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://127.0.0.1:8000/departments/\")\r\n      .then(res => setDepartments(res.data))\r\n      .catch(err => console.error(err));\r\n  }, []);\r\n\r\n  const handleChange = e => {\r\n    const { name, value, files } = e.target;\r\n    setForm(prev => ({\r\n      ...prev,\r\n      [name]: files ? files[0] : value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    if (!form.name || !form.email || !form.department || !form.photo) {\r\n      setMessage(\"Please fill all required fields and select a photo.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"name\", form.name);\r\n    formData.append(\"email\", form.email);\r\n    formData.append(\"department\", form.department);\r\n    formData.append(\"photo\", form.photo);\r\n\r\n    try {\r\n      const res = await axios.post(\"http://127.0.0.1:8000/api/register/\", formData);\r\n      setMessage(res.data.message);\r\n      setForm({ name: \"\", email: \"\", department: \"\", photo: null });\r\n    } catch (err) {\r\n      setMessage(err.response?.data?.error || \"Registration failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto bg-white p-6 rounded shadow-md\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Register User</h2>\r\n      {message && <p className=\"mb-4 text-blue-600\">{message}</p>}\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block mb-1\">Name:</label>\r\n          <input\r\n            name=\"name\"\r\n            value={form.name}\r\n            onChange={handleChange}\r\n            className=\"w-full border p-2 rounded\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-1\">Email:</label>\r\n          <input\r\n            name=\"email\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            className=\"w-full border p-2 rounded\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-1\">Department:</label>\r\n          <select\r\n            name=\"department\"\r\n            value={form.department}\r\n            onChange={handleChange}\r\n            className=\"w-full border p-2 rounded\"\r\n          >\r\n            <option value=\"\">Select Department</option>\r\n            {departments.map(d => (\r\n              <option key={d.department_id} value={d.department_id}>{d.department_name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label className=\"block mb-1\">Photo (PNG/JPG):</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/png, image/jpeg\"\r\n            onChange={handleChange}\r\n            className=\"w-full\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\">\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}